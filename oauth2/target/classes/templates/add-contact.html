<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Contact</title>
    <script>
        function addField(containerId, inputName) {
            const container = document.getElementById(containerId);
            const input = document.createElement("input");
            input.type = "text";
            input.name = inputName;
            input.required = true;
            const removeBtn = document.createElement("button");
            removeBtn.type = "button";
            removeBtn.innerText = "Remove";
            removeBtn.onclick = function() {
                container.removeChild(div);
            };
            const div = document.createElement("div");
            div.appendChild(input);
            div.appendChild(removeBtn);
            container.appendChild(div);
        }
    </script>
</head>
<body>
    <h2>Add Contact</h2>
    <form th:action="@{/contacts/add}" th:object="${contact}" method="post">
        <label>Name:</label>
        <input type="text" th:field="*{name}" required><br><br>

        <label>Emails:</label>
        <div id="email-container">
            <input type="text" name="emails" required>
        </div>
        <button type="button" onclick="addField('email-container', 'emails')">Add Email</button>
        <br><br>

        <label>Phone Numbers:</label>
        <div id="phone-container">
            <input type="text" name="phoneNumbers" required>
        </div>
        <button type="button" onclick="addField('phone-container', 'phoneNumbers')">Add Phone Number</button>
        <br><br>

        <button type="submit">Save</button>
    </form>
</body>
</html>
